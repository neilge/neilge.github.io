<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Github," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="Terminology working directory staging environment repository  Create a git local repository and track to a remote repository create a local repository go to the folder that contain the files that we w">
<meta name="keywords" content="Github">
<meta property="og:type" content="article">
<meta property="og:title" content="Github CLI">
<meta property="og:url" content="http://neilge.github.io/2017/08/09/github-cli/index.html">
<meta property="og:site_name" content="Neil&#39;s Blog">
<meta property="og:description" content="Terminology working directory staging environment repository  Create a git local repository and track to a remote repository create a local repository go to the folder that contain the files that we w">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2017-08-10T12:36:33.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Github CLI">
<meta name="twitter:description" content="Terminology working directory staging environment repository  Create a git local repository and track to a remote repository create a local repository go to the folder that contain the files that we w">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://neilge.github.io/2017/08/09/github-cli/"/>





  <title>Github CLI | Neil's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Neil's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://neilge.github.io/2017/08/09/github-cli/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Github CLI</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-09T18:22:30-04:00">
                2017-08-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="Terminology"><a href="#Terminology" class="headerlink" title="Terminology"></a>Terminology</h3><ol>
<li>working directory</li>
<li>staging environment</li>
<li>repository</li>
</ol>
<h3 id="Create-a-git-local-repository-and-track-to-a-remote-repository"><a href="#Create-a-git-local-repository-and-track-to-a-remote-repository" class="headerlink" title="Create a git local repository and track to a remote repository"></a>Create a git local repository and track to a remote repository</h3><ol>
<li><strong>create a local repository</strong><ul>
<li>go to the folder that contain the files that we want to add to repository</li>
<li><code>git init</code>: create a local repository</li>
<li>add some files into the current directory</li>
<li><code>git add &lt;filename&gt;</code> or <code>git add .</code>: add a file or add all files to the staging environment</li>
<li><code>git commit -m &quot;&lt;commit message&gt;&quot;</code>: commit the files into local repository</li>
</ul>
</li>
<li><strong>build a remote repository</strong><a id="more"></a>
<ul>
<li>sign in the github account</li>
<li>click <strong>+ New repository</strong> button</li>
<li>and create a repository as instruction</li>
</ul>
</li>
<li><strong>track the local repository to remote</strong><ul>
<li><code>git remote add &lt;alias&gt; &lt;url&gt;</code>: add a remote, <code>&lt;alias&gt;</code> is always set as <code>origin</code> and <code>&lt;url&gt;</code> is the http url copied from github</li>
<li><code>git push -u &lt;alias&gt; &lt;branch&gt;</code>: push the content in the local repository to the remote, here, <code>&lt;alias&gt;</code> is always set as <code>origin</code> and <code>&lt;branch&gt;</code> is the branch that we want to push e.g. <code>master</code></li>
<li>after tracking the local repository to the remote one, we can just use <code>git push</code> to push the commit to the remote</li>
</ul>
</li>
</ol>
<h3 id="Clone-a-project-from-github-and-sync-the-branches"><a href="#Clone-a-project-from-github-and-sync-the-branches" class="headerlink" title="Clone a project from github and sync the branches"></a>Clone a project from github and sync the branches</h3><ol>
<li><strong>clone the project from remote</strong><ul>
<li><code>git clone &lt;url&gt;</code>: to clone the remote repository to local the default setting is only cloning the <code>master</code> branch</li>
</ul>
</li>
<li><p><strong>Sync the branches</strong></p>
<ul>
<li><code>git checkout -b &lt;local branch name&gt; &lt;alias&gt;/&lt;remote branch name&gt;</code> clone a branch from github, e.g. <code>git checkout -b sched_mutex origin/sched_mutex</code></li>
<li><p>if we want to sync all the branch at one time we can use the following command</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> --mirror https://github.com/NilGE/weenix.git .git</div><div class="line">git config --bool core.bare <span class="literal">false</span></div><div class="line">git reset --hard</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>only clone one specific branch</strong></p>
<ul>
<li><code>git clone -b &lt;branch_name&gt; &lt;url&gt;</code></li>
</ul>
</li>
</ol>
<h3 id="Fetch-merge-and-pull"><a href="#Fetch-merge-and-pull" class="headerlink" title="Fetch, merge and pull"></a>Fetch, merge and pull</h3><ol>
<li><code>git fetch &lt;alias&gt;</code>: fetch from remote</li>
<li><code>git merge &lt;other branch&gt;</code>: merge other branch to the current branch, the <code>other branch</code> can be a remote branch<ul>
<li>how to solve the conflict:<br>  //TODO:</li>
</ul>
</li>
<li><code>git pull</code>: <code>git fetch</code> + <code>git merge</code></li>
</ol>
<h3 id="Recover"><a href="#Recover" class="headerlink" title="Recover"></a>Recover</h3><ol>
<li><code>git checkout &lt;filename&gt;</code>: if we modify some files and we do not stage it, we can use this command to go back to the file’s previous staging version</li>
<li><code>git reset HEAD &lt;filename&gt;</code>: unstage the file</li>
<li><code>git checkout &lt;branch/file/SHA1&gt;</code>: make the working directory is look like what the repsository look like for the given parameter</li>
<li><code>git checkout --index.html</code>: <code>--</code>means stay in current branch</li>
<li><code>git ls-files --deleted -z | xargs -0 git rm</code>: remove all deleted files</li>
<li><code>git reset --hard HEAD</code>: go back to last commit</li>
<li><code>git reset --hard &lt;SHA1&gt;</code>: go back to specific commit</li>
<li><code>git add -u</code>: update all your changes</li>
</ol>
<h3 id="Amend"><a href="#Amend" class="headerlink" title="Amend"></a>Amend</h3><ol>
<li><code>git commit --amend</code>: Combine the staged changes with the previous commit and replace the previous commit with the resulting snapshot. Running this when there is nothing staged lets you edit the previous commit’s message without altering its snapshot.</li>
</ol>
<h3 id="Diff"><a href="#Diff" class="headerlink" title="Diff"></a>Diff</h3><ol>
<li><code>git diff &lt;filename&gt;</code>: check the different between staging and working directory</li>
<li><code>git diff [file_name] --staged</code>: check the different between repository and staging</li>
<li><code>git diff branch1..branch2</code>: compare the difference between two branches</li>
</ol>
<h3 id="Rebase"><a href="#Rebase" class="headerlink" title="Rebase"></a>Rebase</h3><ol>
<li><p>first we have serval commits</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">e19a59e <span class="keyword">change</span> <span class="number">3</span></div><div class="line"><span class="number">5</span>c02763 <span class="keyword">change</span> <span class="number">2</span></div><div class="line"><span class="number">9</span>cc0c67 <span class="keyword">change</span> <span class="number">1</span></div><div class="line"><span class="number">5</span>f71846 second commit</div><div class="line"><span class="number">8</span>e2e1ee <span class="keyword">change</span> six</div><div class="line">e8b2bfe <span class="keyword">change</span> total five</div><div class="line">dc2da89 <span class="keyword">first</span> commit</div></pre></td></tr></table></figure>
</li>
<li><p>we want to merge the last three use command <code>git rebase -i HEAD~3</code></p>
</li>
<li><p>A file popup with the content</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">pick <span class="number">9</span>cc0c67 <span class="keyword">change</span> <span class="number">1</span></div><div class="line">pick <span class="number">5</span>c02763 <span class="keyword">change</span> <span class="number">2</span></div><div class="line">pick e19a59e <span class="keyword">change</span> <span class="number">3</span></div><div class="line"></div><div class="line"># Rebase <span class="number">5</span>f71846..e19a59e onto <span class="number">5</span>f71846 (<span class="number">3</span> <span class="keyword">command</span>(s))</div><div class="line">#</div><div class="line"># Command<span class="variable">s:</span></div><div class="line"># <span class="keyword">p</span>, pick = use commit</div><div class="line"># r, reword = use commit, but <span class="keyword">edit</span> the commit message</div><div class="line"># <span class="keyword">e</span>, <span class="keyword">edit</span> = use commit, but <span class="keyword">stop</span> <span class="keyword">for</span> amending</div><div class="line"># s, squash = use commit, but meld into <span class="keyword">previous</span> commit</div><div class="line"># <span class="keyword">f</span>, fixup = like <span class="string">"squash"</span>, but discard this commit<span class="string">'s log message</span></div><div class="line"><span class="string"># x, exec = run command (the rest of the line) using shell</span></div><div class="line"><span class="string"># d, drop = remove commit</span></div><div class="line"><span class="string">#</span></div><div class="line"><span class="string"># These lines can be re-ordered; they are executed from top to bottom.</span></div><div class="line"><span class="string">#</span></div><div class="line"><span class="string"># If you remove a line here THAT COMMIT WILL BE LOST.</span></div><div class="line"><span class="string">#</span></div><div class="line"><span class="string"># However, if you remove everything, the rebase will be aborted.</span></div><div class="line"><span class="string">#</span></div><div class="line"><span class="string"># Note that empty commits are commented out</span></div></pre></td></tr></table></figure>
</li>
<li><p>we change the commands with direction, so that we can squash all three commits to one and rename the commit</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">reword <span class="number">9</span>cc0c67 <span class="keyword">change</span> <span class="number">1</span></div><div class="line">squash <span class="number">5</span>c02763 <span class="keyword">change</span> <span class="number">2</span></div><div class="line">squash e19a59e <span class="keyword">change</span> <span class="number">3</span></div></pre></td></tr></table></figure>
</li>
<li><p>Another file popup and we can rename the commit here</p>
<p> change</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">change</span> <span class="number">1</span></div></pre></td></tr></table></figure>
<p> to</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">total <span class="keyword">change</span> three</div></pre></td></tr></table></figure>
</li>
<li><p>The confirmation file popup and after we close it, we finish rebasing</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">38</span>e2f09 total <span class="keyword">change</span> three</div><div class="line"><span class="number">5</span>f71846 second commit</div><div class="line"><span class="number">8</span>e2e1ee <span class="keyword">change</span> six</div><div class="line">e8b2bfe <span class="keyword">change</span> total five</div><div class="line">dc2da89 <span class="keyword">first</span> commit</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Patch"><a href="#Patch" class="headerlink" title="Patch"></a>Patch</h3><p>The goal of patching is patch serveral commits from one branch and apply the patch to another branch</p>
<ol>
<li><p>We first have several commits in master branch</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">38</span>e2f09 total <span class="keyword">change</span> three</div><div class="line"><span class="number">5</span>f71846 second commit</div><div class="line"><span class="number">8</span>e2e1ee <span class="keyword">change</span> six</div><div class="line">e8b2bfe <span class="keyword">change</span> total five</div><div class="line">dc2da89 <span class="keyword">first</span> commit</div></pre></td></tr></table></figure>
</li>
<li><p>Then we create a new branch ‘newbranch’ and make several commits</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout -b newbranch</div></pre></td></tr></table></figure>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="number">6700</span>a4d <span class="keyword">change</span> <span class="number">3</span></div><div class="line">c345e71 <span class="keyword">change</span> <span class="number">2</span></div><div class="line">fac8e80 <span class="keyword">change</span> <span class="number">1</span></div><div class="line"><span class="number">38</span>e2f09 total <span class="keyword">change</span> three</div><div class="line"><span class="number">5</span>f71846 second commit</div><div class="line"><span class="number">8</span>e2e1ee <span class="keyword">change</span> six</div><div class="line">e8b2bfe <span class="keyword">change</span> total five</div><div class="line">dc2da89 <span class="keyword">first</span> commit</div></pre></td></tr></table></figure>
</li>
<li><p>we patch the last three commits with command</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git format-patch master --stdout &gt; last_three.patch</div></pre></td></tr></table></figure>
<ul>
<li>The above command means we patch the result of diff between current branch and master branch and combine all the commits into one patches</li>
<li>If we only write <code>git format-patch master</code>, we will create three patches</li>
<li>We can change master with SHA1, so that we can make the patch from any commit</li>
</ul>
</li>
<li><p>Check the content of the patch</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git apply --<span class="built_in">stat</span> last_three.patch</div></pre></td></tr></table></figure>
<p> If we don’t get any errors, the patch can be applied cleanly. Otherwise we may see what trouble we’ll run into.</p>
</li>
<li><p>Checkout to master branch and apply this patch</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git checkout master</div><div class="line">git am --signoff &lt; last_three.patch</div></pre></td></tr></table></figure>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Applyin<span class="variable">g:</span> <span class="keyword">change</span> <span class="number">1</span></div><div class="line">Applyin<span class="variable">g:</span> <span class="keyword">change</span> <span class="number">2</span></div><div class="line">Applyin<span class="variable">g:</span> <span class="keyword">change</span> <span class="number">3</span></div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="Common-commands"><a href="#Common-commands" class="headerlink" title="Common commands"></a>Common commands</h3><ol>
<li><strong>Log</strong><ul>
<li><code>git log</code></li>
<li><code>git log --oneline</code></li>
<li><code>git log --graph</code></li>
</ul>
</li>
<li><strong>status</strong><ul>
<li><code>git status</code></li>
</ul>
</li>
</ol>
<h2 id="Accidentally-commit-a-file-taht-should-be-ignored"><a href="#Accidentally-commit-a-file-taht-should-be-ignored" class="headerlink" title="Accidentally commit a file taht should be ignored"></a>Accidentally commit a file taht should be ignored</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git rm --cached /path/to/file</div><div class="line">git commit --amend</div></pre></td></tr></table></figure>
<p>Then change the name of the commit</p>
<h2 id="How-to-track-a-remote-branch-to-local-branch"><a href="#How-to-track-a-remote-branch-to-local-branch" class="headerlink" title="How to track a remote branch to local branch"></a>How to track a remote branch to local branch</h2><h2 id="How-to-solve-fatal-refusing-to-merge-unrelated-histories"><a href="#How-to-solve-fatal-refusing-to-merge-unrelated-histories" class="headerlink" title="How to solve fatal: refusing to merge unrelated histories"></a>How to solve <code>fatal: refusing to merge unrelated histories</code></h2>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Github/" rel="tag"># Github</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/08/10/mongodb-cli/" rel="prev" title="MongoDB Cli">
                MongoDB Cli <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Neil" />
          <p class="site-author-name" itemprop="name">Neil</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Terminology"><span class="nav-number">1.</span> <span class="nav-text">Terminology</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Create-a-git-local-repository-and-track-to-a-remote-repository"><span class="nav-number">2.</span> <span class="nav-text">Create a git local repository and track to a remote repository</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Clone-a-project-from-github-and-sync-the-branches"><span class="nav-number">3.</span> <span class="nav-text">Clone a project from github and sync the branches</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fetch-merge-and-pull"><span class="nav-number">4.</span> <span class="nav-text">Fetch, merge and pull</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Recover"><span class="nav-number">5.</span> <span class="nav-text">Recover</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Amend"><span class="nav-number">6.</span> <span class="nav-text">Amend</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Diff"><span class="nav-number">7.</span> <span class="nav-text">Diff</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rebase"><span class="nav-number">8.</span> <span class="nav-text">Rebase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Patch"><span class="nav-number">9.</span> <span class="nav-text">Patch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Common-commands"><span class="nav-number">10.</span> <span class="nav-text">Common commands</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Accidentally-commit-a-file-taht-should-be-ignored"><span class="nav-number"></span> <span class="nav-text">Accidentally commit a file taht should be ignored</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-to-track-a-remote-branch-to-local-branch"><span class="nav-number"></span> <span class="nav-text">How to track a remote branch to local branch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-to-solve-fatal-refusing-to-merge-unrelated-histories"><span class="nav-number"></span> <span class="nav-text">How to solve fatal: refusing to merge unrelated histories</span></a></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Neil</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

</body>
</html>
